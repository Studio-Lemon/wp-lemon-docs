{"componentChunkName":"component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js","path":"/blocks/block-view","result":{"data":{"mdx":{"id":"583470ef-f038-5af7-859c-ac0245d90b96","excerpt":"After you've set up your block and added the necessary logic in the controller file, \nit's time to start building the front end. This will happen in the viewâ€¦","fields":{"slug":"/blocks/block-view/"},"frontmatter":{"title":"Block view","description":"Documentation on the view layer.","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nfunction _objectWithoutProperties(e, t) { if (null == e) return {}; var o, r, i = _objectWithoutPropertiesLoose(e, t); if (Object.getOwnPropertySymbols) { var s = Object.getOwnPropertySymbols(e); for (r = 0; r < s.length; r++) o = s[r], t.includes(o) || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]); } return i; }\nfunction _objectWithoutPropertiesLoose(r, e) { if (null == r) return {}; var t = {}; for (var n in r) if ({}.hasOwnProperty.call(r, n)) { if (e.includes(n)) continue; t[n] = r[n]; } return t; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Block view\",\n  \"description\": \"Documentation on the view layer.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"After you've set up your block and added the necessary logic in the controller file,\\nit's time to start building the front end. This will happen in the view file (\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".twig\"), \"). \"), mdx(\"p\", null, \"The core responsibility of the .twig file is to define the HTML structure of your block.\\nThis is where you lay out the various elements (text, images, buttons, etc.) that make up the block.\"), mdx(\"h2\", {\n    \"id\": \"using-your-acf-fields\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#using-your-acf-fields\",\n    \"aria-label\": \"using your acf fields permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Using your ACF fields\"), mdx(\"p\", null, \"The Twig template is capable of receiving data passed from the block controller,\\nsuch as block attributes and field values. You can use placeholders in the .twig file to inject this data dynamically into the HTML.\"), mdx(\"p\", null, \"To take a look at what your working with you can use the following example:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-twig\"\n  }, \"<pre>\\n    {{ dump(fields) }}\\n</pre>\\n\")), mdx(\"p\", null, \"This will show you all the fields that are available in the block. When you know the field names you can use them in your template like this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-twig\"\n  }, \"<div class=\\\"classname\\\">\\n    {{ fields.fieldname }}\\n</div>\\n\")), mdx(\"h2\", {\n    \"id\": \"advanced-twig-features\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#advanced-twig-features\",\n    \"aria-label\": \"advanced twig features permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Advanced Twig features\"), mdx(\"p\", null, \"Twig offers a lot of advanced features that can help you build complex and dynamic templates. For our use case however we will focus on the following features:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Programming locic (Conditional statements, loops)\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Includes and extends\")), mdx(\"p\", null, \"Twig offers an extensive documentation on all the features that are available. You can find this documentation \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://twig.symfony.com/doc/\"\n  }, \"here\"), \".\"), mdx(\"h3\", {\n    \"id\": \"conditional-statements\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#conditional-statements\",\n    \"aria-label\": \"conditional statements permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Conditional statements\"), mdx(\"p\", null, \"Twig supports basic programming logic, allowing you to conditionally display elements based on the values of the block\\u2019s attributes.\\nFor example, you can choose to display a special background only if a certain color is selected like this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-twig\"\n  }, \"{% if fields.color %}\\n    <div class=\\\"background-color-{{ fields.color }}\\\">\\n        {{ fields.text }}\\n    </div>\\n{% endif %}\\n\")), mdx(\"h3\", {\n    \"id\": \"loops\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#loops\",\n    \"aria-label\": \"loops permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Loops\"), mdx(\"p\", null, \"Also, if your block contains repeatable items (like a list of testimonials or products),\\nyou can use Twig loops to render these items dynamically, based on the number of entries in the data passed from the controller.\\nBelow an example is given of how you can loop through a repeater field:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-twig\"\n  }, \"{% for item in fields.items %}\\n    <div class=\\\"item\\\">\\n        <img src=\\\"{{ item.image }}\\\" alt=\\\"{{ item.caption }}\\\">\\n        <p>{{ item.caption }}</p>\\n    </div>\\n{% endfor %}\\n\")), mdx(\"h2\", {\n    \"id\": \"includes-and-extends\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#includes-and-extends\",\n    \"aria-label\": \"includes and extends permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Includes and extends\"), mdx(\"p\", null, \"Twig also supports includes and extends, which allow you to reuse your code.\"), mdx(\"h3\", {\n    \"id\": \"includes\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#includes\",\n    \"aria-label\": \"includes permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Includes\"), mdx(\"p\", null, \"Includes are the most straightforward as they are used for simple code reuse.\\nThis can be useful when you have a block that is used in multiple places on your website.\\nIt will look something like this:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-twig\"\n  }, \"{% include 'blocks/_example.twig' %}\\n\")), mdx(\"h3\", {\n    \"id\": \"extends\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#extends\",\n    \"aria-label\": \"extends permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Extends\"), mdx(\"p\", null, \"Extends are used when you want to create a base template that other templates can inherit from.\\nWhen working with custom blocks in wp-lemon, you're already making use of this feature.\\nBecause every block you create automatically extends our block-wrap.twig file.\\nThe block-wrap sets the default classes based on you configured your block in the back-end like (background) color and alignment.\\nIt also prepares your block for block notifications.\\nWe recommend to always extend the block-wrap.twig file in your block view file, but you can do without.\\nAn example of when you wouldn't want to extend the block-wrap.twig file is when you have a really small inline component like an icon or something similar.\"), mdx(\"p\", null, \"If we look at how the block-wrap.twig file is extended in your custom block we can see how it's done:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-twig\"\n  }, \"{% extends 'layouts/block-wrap.twig' %}\\n\\n{% block block__inner %}\\n    Here comes the block content.\\n{% endblock %}\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Using your ACF fields"},{"depth":2,"value":"Advanced Twig features"},{"depth":3,"value":"Conditional statements"},{"depth":3,"value":"Loops"},{"depth":2,"value":"Includes and extends"},{"depth":3,"value":"Includes"},{"depth":3,"value":"Extends"}]}},"pageContext":{"slug":"/blocks/block-view/","prev":{"label":"Controller (php)","link":"/blocks/block-controller"},"next":{"label":"Innerblocks","link":"/blocks/innerblocks"},"repositoryEditUrl":"https://github.com/Studio-Lemon/wp-lemon-docs/tree/master/wp-lemon-docs/src/docs/blocks/block-view.mdx","repositoryProvider":"GitHub"}},"staticQueryHashes":["1954253342","2328931024","2501019404","973074209"]}