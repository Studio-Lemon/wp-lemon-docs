{"componentChunkName":"component---node-modules-rocketseat-gatsby-theme-docs-core-src-templates-docs-query-js","path":"/extend/add-models","result":{"data":{"mdx":{"id":"776cc401-f5c7-5d2a-ba2a-115d315c30de","excerpt":"In the  MVC design pattern  the M stands for Model. As Wikipedia puts it: The central component of the pattern. It is the application's dynamic data structureâ€¦","fields":{"slug":"/extend/add-models/"},"frontmatter":{"title":"Add models","description":"How to add post types and taxonomies.","image":null,"disableTableOfContents":null},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"title\": \"Add models\",\n  \"description\": \"How to add post types and taxonomies.\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"In the \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\"\n  }, \"MVC design pattern\"), \" the M stands for Model. As Wikipedia puts it:\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"The central component of the pattern. It is the application's dynamic data structure, independent of the user interface. It  directly manages the data, logic and rules of the application.\")), mdx(\"p\", null, \"Models live in the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"library/models\"), \" folder of your child theme. You can generate them by using generatewp\"), mdx(\"table\", null, mdx(\"thead\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"thead\"\n  }, mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Type\"), mdx(\"th\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Description\"))), mdx(\"tbody\", {\n    parentName: \"table\"\n  }, mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Post type\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"create a file named cpt-YOURPOSTTYPE.PHP and add generate code via \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://generatewp.com/post-type/\"\n  }, \"this website\"))), mdx(\"tr\", {\n    parentName: \"tbody\"\n  }, mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"Taxonomy\"), mdx(\"td\", {\n    parentName: \"tr\",\n    \"align\": null\n  }, \"create a file named tax-YOURTAXONOMY.PHP add generate code via \", mdx(\"a\", {\n    parentName: \"td\",\n    \"href\": \"https://generatewp.com/taxonomy/\"\n  }, \"this website\"))))), mdx(\"p\", null, \"Don't forget to add the right namespace and namespace the action.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-php\"\n  }, \"namespace WP_Lemon\\\\Child\\\\Models;\\n...\\n...\\nadd_action('init', __NAMESPACE__ . '\\\\\\\\cpt_example', 0);\\n\")), mdx(\"h2\", {\n    \"id\": \"post-type-custom-page-archives\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#post-type-custom-page-archives\",\n    \"aria-label\": \"post type custom page archives permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Post type custom page archives\"), mdx(\"p\", null, \"We've added a functionality so that pages can be labeled as archive pages for single-posts of any post type as long as you add support for it in your post type declaration.\"), mdx(\"h3\", {\n    \"id\": \"add-support-for-archive-pages\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#add-support-for-archive-pages\",\n    \"aria-label\": \"add support for archive pages permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Add support for archive pages\"), mdx(\"p\", null, \"Add the maybe_has_archive_page line to your model. This will activate the field in the customizer for this specific post type.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-php\",\n    \"metastring\": \"title=library/models/your-cpt.php highlight={6}\",\n    \"title\": \"library/models/your-cpt.php\",\n    \"highlight\": \"{6}\"\n  }, \"namespace WP_Lemon\\\\Child\\\\Models;\\n\\n    // Add\\n    $args = [\\n        ...\\n        'maybe_has_archive_page' => true,\\n    ];\\n\\n    register_post_type('mycustomposttype', $args);\\n\")), mdx(\"h3\", {\n    \"id\": \"select-page-as-archive-page-in-the-customizer\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#select-page-as-archive-page-in-the-customizer\",\n    \"aria-label\": \"select page as archive page in the customizer permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Select page as archive page in the customizer.\"), mdx(\"p\", null, \"You can now navigate to the customizer > wp-lemon > Archives and posttypes\"), mdx(\"p\", null, \"Your new post type will show up in a new dropdown field. Please select or create a page that serves as the archive for your new post type.\"), mdx(\"h2\", {\n    \"id\": \"add-support-for-an-overviewlatest-items-block-for-your-new-posttype\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#add-support-for-an-overviewlatest-items-block-for-your-new-posttype\",\n    \"aria-label\": \"add support for an overviewlatest items block for your new posttype permalink\",\n    \"className\": \"anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Add support for an overview/latest items block for your new posttype\"), mdx(\"p\", null, \"This way  new block variants will be registered specificly for your new post type. This created an overview block with filters and a show more (ajax) button and a latest block to display the latest items.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-php\",\n    \"metastring\": \"title=library/models/your-cpt.php highlight={6,7}\",\n    \"title\": \"library/models/your-cpt.php\",\n    \"highlight\": \"{6,7}\"\n  }, \"namespace WP_Lemon\\\\Child\\\\Models;\\n\\n    // Add\\n    $args = [\\n        ...\\n        'enable_overview_block'  => true,\\n        'enable_latest_block'    => true,\\n    ];\\n\\n    register_post_type('mycustomposttype', $args);\\n\")));\n}\n;\nMDXContent.isMDXComponent = true;","headings":[{"depth":2,"value":"Post type custom page archives"},{"depth":3,"value":"Add support for archive pages"},{"depth":3,"value":"Select page as archive page in the customizer."},{"depth":2,"value":"Add support for an overview/latest items block for your new posttype"}]}},"pageContext":{"slug":"/extend/add-models/","prev":{"label":"Blocks","link":"/extend/add-blocks"},"next":{"label":"Add ACF fields","link":"/extend/add-fields"},"repositoryEditUrl":"https://github.com/Studio-Lemon/wp-lemon-docs/tree/master/src/docs/extend/add-models.mdx","repositoryProvider":"GitHub"}},"staticQueryHashes":["1954253342","2328931024","2501019404","973074209"]}