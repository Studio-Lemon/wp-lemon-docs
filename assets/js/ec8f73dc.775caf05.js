"use strict";(globalThis.webpackChunkwp_lemon_docs=globalThis.webpackChunkwp_lemon_docs||[]).push([[9964],{5856(e,t,o){o.r(t),o.d(t,{assets:()=>i,contentTitle:()=>r,default:()=>b,frontMatter:()=>c,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"blocks/disabling-blocks","title":"Disabling blocks","description":"Documentation on how to disable blocks.","source":"@site/docs/blocks/disabling-blocks.mdx","sourceDirName":"blocks","slug":"/blocks/disabling-blocks","permalink":"/wp-lemon-docs/blocks/disabling-blocks","draft":false,"unlisted":false,"editUrl":"https://github.com/Studio-Lemon/wp-lemon-docs/tree/master/docs/blocks/disabling-blocks.mdx","tags":[],"version":"current","frontMatter":{"title":"Disabling blocks","description":"Documentation on how to disable blocks."},"sidebar":"docsSidebar","previous":{"title":"Innerblocks","permalink":"/wp-lemon-docs/blocks/innerblocks"},"next":{"title":"Post type registration","permalink":"/wp-lemon-docs/working-with-posts/post-type-registration"}}');var s=o(4848),l=o(8453);const c={title:"Disabling blocks",description:"Documentation on how to disable blocks."},r=void 0,i={},a=[{value:"Wp-lemon blocks",id:"wp-lemon-blocks",level:2},{value:"Core blocks",id:"core-blocks",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"WordPress blocks are a powerful tool to create content in the WordPress editor.\nHowever, sometimes you might want to disable certain blocks. There are WordPress core blocks and wp-lemon blocks, and both can be disabled.\nIt is possible to disable certain blocks, or make a specific allow list of blocks that can be used."}),"\n",(0,s.jsx)(t.h2,{id:"wp-lemon-blocks",children:"Wp-lemon blocks"}),"\n",(0,s.jsxs)(t.p,{children:["Filtering the blocks is done by using the ",(0,s.jsx)(t.code,{children:"wp-lemon/filter/blocks"})," filter. This filter works as an allow list,\nmeaning that only the blocks that are in the array will be allowed."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"\nadd_filter(\n\t'wp-lemon/filter/blocks',\n\tfunction ($blocks) {\n\t\treturn [\n\t\t\t'logo',\n\t\t\t'node-overview',\n\t\t\t'widgets',\n\t\t\t'widget',\n\t\t];\n\t}\n);\n\n"})}),"\n",(0,s.jsx)(t.p,{children:"You can also use this accent same hook to create a deny list, by unsetting the blocks you want to disable.\nThis means that all blocks are allowed, except the ones that are unset."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"\nadd_filter(\n\t'wp-lemon/filter/blocks',\n\tfunction ($blocks) {\n\n\t\t$to_remove = [\n\t\t\t'contact-cta',\n\t\t\t'circle-text',\n\t\t\t'contact-bar',\n\t\t\t'color-block'\n\t\t];\n\n\t\t$blocks = array_diff($blocks, $to_remove);\n\t\treturn $blocks;\n\t}\n);\n\n"})}),"\n",(0,s.jsx)(t.h2,{id:"core-blocks",children:"Core blocks"}),"\n",(0,s.jsx)(t.p,{children:"Also for core blocks we've created a hook in wp-lemon. This hook again works as an allow list, specifically for core blocks."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"\nadd_filter('wp-lemon/filter/core-blocks-to-allow',\n\tfunction ($blocks) {\n\t\treturn [\n\t\t\t'core/paragraph',\n\t\t\t'core/list',\n\t\t\t'core/heading',\n\t\t];\n\t}\n);\n\n"})}),"\n",(0,s.jsx)(t.p,{children:"To create a deny list for core blocks, you'll have to use another hook:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"\nadd_filter(\n\t'wp-lemon/filter/blocks-to-remove',\n\tfunction ($blocks) {\n\t\t$extra_blocks_to_remove = ['core/list'];\n\t\treturn array_merge($blocks, $extra_blocks_to_remove);\n\t}\n);\n\n"})}),"\n",(0,s.jsxs)(t.p,{children:["To see the full list of hooks we've build for you to use, please take a look at the ",(0,s.jsx)(t.a,{href:"/reference/hooks/filters",children:"filter documentation"}),"."]})]})}function b(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453(e,t,o){o.d(t,{R:()=>c,x:()=>r});var n=o(6540);const s={},l=n.createContext(s);function c(e){const t=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);