"use strict";(globalThis.webpackChunkwp_lemon_docs=globalThis.webpackChunkwp_lemon_docs||[]).push([[5135],{1167(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>p});const o=JSON.parse('{"id":"working-with-posts/post-type-registration","title":"Post type registration","description":"How to register your posts and taxonomies","source":"@site/docs/working-with-posts/post-type-registration.mdx","sourceDirName":"working-with-posts","slug":"/working-with-posts/post-type-registration","permalink":"/wp-lemon-docs/working-with-posts/post-type-registration","draft":false,"unlisted":false,"editUrl":"https://github.com/Studio-Lemon/wp-lemon-docs/tree/master/docs/working-with-posts/post-type-registration.mdx","tags":[],"version":"current","frontMatter":{"title":"Post type registration","description":"How to register your posts and taxonomies"},"sidebar":"docsSidebar","previous":{"title":"Disabling blocks","permalink":"/wp-lemon-docs/blocks/disabling-blocks"},"next":{"title":"Extending post objects","permalink":"/wp-lemon-docs/working-with-posts/extending-post-objects"}}');var s=n(4848),a=n(8453);const r={title:"Post type registration",description:"How to register your posts and taxonomies"},i=void 0,l={},p=[{value:"Creating a custom post type",id:"creating-a-custom-post-type",level:2},{value:"Archive page",id:"archive-page",level:3},{value:"Single page",id:"single-page",level:3}];function c(e){const t={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Since WordPress started as a blogging platform post objects are an inherent part of the WordPress ecosystem.\nIn wp-lemon we've extended the default post object to make it more flexible and easier to use.\nWe've hidden the default post type ",(0,s.jsx)(t.code,{children:"post"})," and added our own custom post types; ",(0,s.jsx)(t.code,{children:"news"}),", ",(0,s.jsx)(t.code,{children:"team"})," and ",(0,s.jsx)(t.code,{children:"jobs"}),".\nBesides that, you can easily create your own custom post types. In this chapter we'll first explain how to create a custom post type\nand then how to use it in your site."]}),"\n",(0,s.jsx)(t.h2,{id:"creating-a-custom-post-type",children:"Creating a custom post type"}),"\n",(0,s.jsxs)(t.p,{children:["To create your own custom post type you'll need to create a new file in the ",(0,s.jsx)(t.code,{children:"/library/models/post-types/"})," directory.\nIn this file you'll find a example file that looks like this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"<?php\n\n/**\n * Custom post type file\n *\n * @package WordPress\n * @subpackage WP_Lemon\\Child\n */\n\nnamespace WP_Lemon\\Child\\Models;\n\n/**\n * Example post type\n *\n * @return void\n */\nfunction cpt_example()\n{\n\t$single_name = _x('Example', 'Post Type General Name', 'wp-lemon-child');\n\t$plural_name = _x('Examples', 'Post Type Singular Name', 'wp-lemon-child');\n\n\t$labels = [\n\t\t'name'                  => $plural_name,\n\t\t'singular_name'         => $single_name,\n\t\t'all_items'             => sprintf(__('All %s', 'wp-lemon'), strtolower($plural_name)),\n\t\t'add_new_item'          => sprintf(__('Add new %s', 'wp-lemon'), strtolower($single_name)),\n\t\t'add_new'               => sprintf(__('Add new %s', 'wp-lemon'), strtolower($single_name)),\n\t\t'new_item'              => sprintf(__('New %s', 'wp-lemon'), strtolower($single_name)),\n\t\t'edit_item'             => sprintf(__('Edit %s', 'wp-lemon'), strtolower($single_name)),\n\t\t'update_item'           => sprintf(__('Update %s', 'wp-lemon'), strtolower($single_name)),\n\t\t'view_item'             => sprintf(__('View %s', 'wp-lemon'), strtolower($single_name)),\n\t];\n\n\t$args = [\n\t\t'labels'                 => $labels,\n\t\t'supports'               => ['title', 'editor', 'thumbnail'],\n\t\t'taxonomies'             => ['category'],\n\t\t'hierarchical'           => false,\n\t\t'public'                 => true,\n\t\t'show_ui'                => true,\n\t\t'show_in_menu'           => true,\n\t\t'menu_position'          => 5,\n\t\t'rewrite'                => ['slug' => 'example'],\n\t\t'menu_icon'              => 'dashicons-businessperson',\n\t\t'show_in_admin_bar'      => true,\n\t\t'show_in_nav_menus'      => true,\n\t\t'show_in_rest'           => true,\n\t\t'can_export'             => true,\n\t\t'has_archive'            => false,\n\t\t'exclude_from_search'    => false,\n\t\t'publicly_queryable'     => true,\n\t\t'capability_type'        => 'page',\n\t\t'maybe_has_archive_page' => true,\n\t\t'enable_overview_block'  => true,\n\t\t'enable_latest_block'    => true,\n\t];\n\tregister_post_type('example', $args); // unique singular post type name.\n}\nadd_action('init', __NAMESPACE__ . '\\\\cpt_example', 0);\n"})}),"\n",(0,s.jsx)(t.p,{children:"You can copy this file and rename it to your own custom post type. Make sure to change the single and plural name variables.\nAfter you've created your custom post type you can go to the WordPress backend and create a new post of your custom post type.\nDon't forget to save your permalinks after you've created your custom post type."}),"\n",(0,s.jsx)(t.h3,{id:"archive-page",children:"Archive page"}),"\n",(0,s.jsx)(t.p,{children:"Now you can create a custom archive page for your custom post type.\nOn this archive page you can display all the posts of your custom post type using the overview block.\nOnce you've created your archive page you can use the WordPress customizer to link your archive page to your custom post type.\nIf for whatever reason you don't want your post type to have a archive-page you can change the following arguments in your custom post type file:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"$args = [\n\t'maybe_has_archive_page' => true, // change to false if you don't want an archive page\n\t'enable_overview_block'  => true, // change to false if you don't want an overview block\n\t'enable_latest_block'    => true, // change to false if you don't want a latest block\n];\n"})}),"\n",(0,s.jsx)(t.h3,{id:"single-page",children:"Single page"}),"\n",(0,s.jsxs)(t.p,{children:["Your custom post type will also have a single page by default. This single page is default in wp-lemon.\nBut if you want to overwrite and customize the single page that's possible as well.\nYou can do this by navigating to ",(0,s.jsx)(t.code,{children:"resources/views/templates"}),", here you can create a new file: ",(0,s.jsx)(t.code,{children:"single-post_type_name.twig"}),"."]}),"\n",(0,s.jsx)(t.p,{children:"If for whatever reason you don't want your post type to have a single-page you can change the following argument in your custom post type file:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-php",children:"$args = [\n\t'publicly_queryable'     => true, // change to false if you don't want a single page\n];\n"})})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453(e,t,n){n.d(t,{R:()=>r,x:()=>i});var o=n(6540);const s={},a=o.createContext(s);function r(e){const t=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);