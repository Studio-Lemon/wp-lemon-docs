"use strict";(globalThis.webpackChunkwp_lemon_docs=globalThis.webpackChunkwp_lemon_docs||[]).push([[8835],{5721(e,n,o){o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"extend/hooks","title":"Working with hooks","description":"How to use actions and filters in wp-lemon","source":"@site/docs/extend/hooks.mdx","sourceDirName":"extend","slug":"/extend/hooks","permalink":"/wp-lemon-docs/extend/hooks","draft":false,"unlisted":false,"editUrl":"https://github.com/Studio-Lemon/wp-lemon-docs/tree/master/docs/extend/hooks.mdx","tags":[],"version":"current","frontMatter":{"title":"Working with hooks","description":"How to use actions and filters in wp-lemon"},"sidebar":"docsSidebar","previous":{"title":"ACF fields","permalink":"/wp-lemon-docs/extend/acf-fields"},"next":{"title":"Icon picker","permalink":"/wp-lemon-docs/extend/icon-picker"}}');var r=o(4848),i=o(8453);const s={title:"Working with hooks",description:"How to use actions and filters in wp-lemon"},a=void 0,l={},c=[{value:"Action examples",id:"action-examples",level:2},{value:"Example: Adding a static block after the content and utiilizing default WordPress classes",id:"example-adding-a-static-block-after-the-content-and-utiilizing-default-wordpress-classes",level:3},{value:"Example: Adding footer logos after the footer widgets",id:"example-adding-footer-logos-after-the-footer-widgets",level:3},{value:"Example: Adding a scroll-to-top button before the footer widgets",id:"example-adding-a-scroll-to-top-button-before-the-footer-widgets",level:3},{value:"Example: Rendering a home hero on the front page",id:"example-rendering-a-home-hero-on-the-front-page",level:3},{value:"Example: Injecting font markup into head meta",id:"example-injecting-font-markup-into-head-meta",level:3},{value:"Filter examples",id:"filter-examples",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Hooks are a way for one piece of code to interact/modify another piece of code at specific, pre-defined spots. You can 'hook' into them to modify a set piece of code. Hooks come in the form of ",(0,r.jsx)(n.strong,{children:"actions"})," and ",(0,r.jsx)(n.strong,{children:"filters"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Actions"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Actions allow you to add data or change how WordPress operates. Actions will run at a specific point in the execution of WordPress Core, plugins, and themes. Callback functions for Actions can perform some kind of a task, like echoing output to the user or inserting something into the database. Callback functions for an Action do not return anything back to the calling Action hook."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["We use actions in wp-lemon throughout the twig files to add new data on specific spots ",(0,r.jsx)(n.em,{children:"without"})," overwriting the complete twig file. This means you can upgrade your child themes more easily in the future."]}),"\n",(0,r.jsxs)(n.p,{children:["You can find a full list of actions in the ",(0,r.jsx)(n.a,{href:"/reference/hooks/actions",children:"wp-lemon action reference"}),"."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Filters"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"Filters give you the ability to change data during the execution of WordPress Core, plugins, and themes. Callback functions for Filters will accept a variable, modify it, and return it. They are meant to work in an isolated manner, and should never have side effects such as affecting global variables and output. Filters expect to have something returned back to them."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"We use filters in wp-lemon to change specific output that is already baked into the templates. It serves the same purpose as actions are used on a smaller scale, like changing an icon inside a card for example."}),"\n",(0,r.jsxs)(n.p,{children:["You can find a full list of filters in the ",(0,r.jsx)(n.a,{href:"/reference/hooks/filters",children:"wp-lemon filter reference"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"action-examples",children:"Action examples"}),"\n",(0,r.jsx)(n.h3,{id:"example-adding-a-static-block-after-the-content-and-utiilizing-default-wordpress-classes",children:"Example: Adding a static block after the content and utiilizing default WordPress classes"}),"\n",(0,r.jsxs)(n.p,{children:["The following example shows how to add a static contact bar after the content of every page. We use the action ",(0,r.jsx)(n.code,{children:"wp-lemon/action/content/after"})," to hook into the content area after the main content is rendered."]}),"\n",(0,r.jsxs)(n.p,{children:["We reuse default WordPress classes like ",(0,r.jsx)(n.code,{children:"has-background"})," and ",(0,r.jsx)(n.code,{children:"has-text-color"})," to make sure the block inherits the correct colors from the customizer. We use the ",(0,r.jsx)(n.code,{children:"section"})," in combination with ",(0,r.jsx)(n.code,{children:"alignfull"})," to make sure the block spans the full width of the viewport and received proper padding/margins."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"title=library/hooks.php lineNumbers=true",children:"namespace WP_Lemon\\Child\\Controllers;\n\nuse Timber\\Timber;\nuse function HighGround\\Bulldozer\\helpers\\asset;\n\n/**\n * Add static contact bar on every page.\n *\n * @return void\n */\nfunction add_contact_bar()\n{\n   $context = Timber::context([\n      'classes' => ['acf-block', 'contact-bar', 'alignfull', 'has-background', 'has-blue-background-color', 'has-text-color', 'has-black-color']\n   ]);\n\n\n   Timber::render('@blocks/contact-bar/contact-bar.twig', $context);\n}\n\nadd_action('wp-lemon/action/content/after', __NAMESPACE__ . '\\\\add_contact_bar');\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-adding-footer-logos-after-the-footer-widgets",children:"Example: Adding footer logos after the footer widgets"}),"\n",(0,r.jsxs)(n.p,{children:["The following example shows how to add a set of logos directly after the footer widgets. We use the action ",(0,r.jsx)(n.code,{children:"wp-lemon/action/footer-widgets/after"})," to hook into the footer area after the footer widgets are rendered."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"title=library/hooks.php lineNumbers=true",children:"namespace WP_Lemon\\Child\\Controllers;\n\nuse Timber\\Timber;\nuse function HighGround\\Bulldozer\\helpers\\asset;\n\n/**\n * Insert logo's of certificates directly after the footer widgets.\n *\n * @return void\n */\nfunction footer_logos()\n{\n   $context = Timber::context([\n      'footer_logos' => [\n         asset('images/logos/ebn-9001.svg')->uri(),\n         asset('images/logos/veritas-f-gassen.svg')->uri(),\n         asset('images/logos/techniek-nederland.svg')->uri(),\n         asset('images/logos/veritas-brl-6000.svg')->uri(),\n         asset('images/logos/ebn-vca.svg')->uri(),\n      ],\n   ]);\n\n   Timber::render('partials/footer-logos.twig', $context);\n}\n\nadd_action('wp-lemon/action/footer-widgets/after', __NAMESPACE__ . '\\\\footer_logos');\n\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-adding-a-scroll-to-top-button-before-the-footer-widgets",children:"Example: Adding a scroll-to-top button before the footer widgets"}),"\n",(0,r.jsxs)(n.p,{children:["The following example shows how to render a scroll-to-top component directly before the footer widgets. We use the action ",(0,r.jsx)(n.code,{children:"wp-lemon/action/footer-widgets/before"})," to hook into the area just before footer widgets are rendered."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"title=library/hooks.php lineNumbers=true",children:"namespace WP_Lemon\\Child\\Controllers;\n\nuse Timber\\Timber;\n\n/**\n * Render scroll-to-top component before footer widgets.\n *\n * @return void\n */\nfunction footer_scrolltop()\n{\n   $context = Timber::context();\n   Timber::render('components/scroll-top.twig', $context);\n}\n\nadd_action('wp-lemon/action/footer-widgets/before', __NAMESPACE__ . '\\\\footer_scrolltop');\n"})}),"\n",(0,r.jsx)(n.h3,{id:"example-rendering-a-home-hero-on-the-front-page",children:"Example: Rendering a home hero on the front page"}),"\n",(0,r.jsxs)(n.p,{children:["The example below shows how to render a full-width home hero only on the front page. We use the action ",(0,r.jsx)(n.code,{children:"wp-lemon/action/entry/before"})," to insert the hero before the entry content is rendered."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"title=library/hooks.php lineNumbers=true",children:"namespace WP_Lemon\\Child\\Controllers;\n\nuse Timber\\Timber;\n\n/**\n * Render a home hero on the front page only.\n *\n * @return void\n */\nfunction render_home_hero()\n{\n   if (!is_front_page()) {\n     return;\n   }\n\n   $context = Timber::context([\n     'video' => get_field('video'),\n   ]);\n\n   Timber::render('partials/home-hero.twig', $context);\n}\n\nadd_action('wp-lemon/action/entry/before', __NAMESPACE__ . '\\\\render_home_hero');\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Below is an example of the ",(0,r.jsx)(n.code,{children:"partials/home-hero.twig"})," template used by the PHP example. Note how the ",(0,r.jsx)(n.code,{children:"section"})," element uses the ",(0,r.jsx)(n.code,{children:"alignfull"})," class to make sure it spans the full width of the viewport."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-twig",metastring:"title=resources/views/partials/home-hero.twig lineNumbers=true",children:'{% import \'macros/media.twig\' as media %}\n<section class="section alignfull has-background home-hero">\n   {{\n      media.video(\n      video, \'home-hero__video ratio\',\n      )\n   }}\n   <div class="wp-block__inner-container section__container home-hero__container">\n      <div class="home-hero__content">\n         <h1>\n            {{ post.title }}\n         </h1>\n      </div>\n   </div>\n</section>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"example-injecting-font-markup-into-head-meta",children:"Example: Injecting font markup into head meta"}),"\n",(0,r.jsxs)(n.p,{children:["You can also hook into the head meta area to inject font-related markup. The example below uses an anonymous function to render a ",(0,r.jsx)(n.code,{children:"components/font.twig"})," template when the ",(0,r.jsx)(n.code,{children:"wp-lemon/action/head/meta"})," action runs."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"title=library/hooks.php lineNumbers=true",children:"namespace WP_Lemon\\Child\\Controllers;\n\nuse Timber\\Timber;\n\nadd_action('wp-lemon/action/head/meta', function () {\n   $context = Timber::context();\n   Timber::render('components/font.twig', $context);\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"filter-examples",children:"Filter examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-php",metastring:"title=library/controllers/filters.php lineNumbers=true",children:"namespace WP_Lemon\\Child\\Controllers;\n\nuse function HighGround\\Bulldozer\\helpers\\asset;\n\nadd_filter('wp-lemon/filter/card/icon', function () {\n   return 'icon-chevron-right';\n});\n\nadd_filter(\"wp-lemon/filter/node-overview/news/image-sizes\", function ($sizes) {\n   return '(min-width: 768px) 700px,\n           (min-width: 600px) 510px,\n           400px';\n});\n\n\nadd_filter('wp-lemon/filter/card/news/picture-el', function ($el, $post_id) {\n   return get_field('oembed', $post_id);\n}, 10, 2);\n\n\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453(e,n,o){o.d(n,{R:()=>s,x:()=>a});var t=o(6540);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);