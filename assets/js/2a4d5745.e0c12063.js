"use strict";(globalThis.webpackChunkwp_lemon_docs=globalThis.webpackChunkwp_lemon_docs||[]).push([[6725],{4680(e,t,n){n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>a});const o=JSON.parse('{"id":"migrations/4-5","title":"Migrate to wp-lemon 5","description":"How to update to the newest version of wp-lemon","source":"@site/docs/migrations/4-5.mdx","sourceDirName":"migrations","slug":"/migrations/4-5","permalink":"/wp-lemon-docs/migrations/4-5","draft":false,"unlisted":false,"editUrl":"https://github.com/Studio-Lemon/wp-lemon-docs/tree/master/docs/migrations/4-5.mdx","tags":[],"version":"current","frontMatter":{"title":"Migrate to wp-lemon 5","description":"How to update to the newest version of wp-lemon","disableTableOfContents":true},"sidebar":"docsSidebar","previous":{"title":"Update wp-lemon","permalink":"/wp-lemon-docs/deployment/updates"},"next":{"title":"Migrate to wp-lemon 4","permalink":"/wp-lemon-docs/migrations/3-4"}}');var i=n(4848),d=n(8453);const r={title:"Migrate to wp-lemon 5",description:"How to update to the newest version of wp-lemon",disableTableOfContents:!0},s=void 0,l={},a=[{value:"Before we get started",id:"before-we-get-started",level:2},{value:"Upgrade steps",id:"upgrade-steps",level:2},{value:"Step 1. Set new major version of wp-lemon, Timber and Bulldozer",id:"step-1-set-new-major-version-of-wp-lemon-timber-and-bulldozer",level:3},{value:"Step 2. Update child-theme dependencies",id:"step-2-update-child-theme-dependencies",level:3},{value:"Step 3. Run update-parent command",id:"step-3-run-update-parent-command",level:3},{value:"Step 4. Run production build",id:"step-4-run-production-build",level:3},{value:"Step 5. Read the Timber 2.0 migration guide and update/test your child theme",id:"step-5-read-the-timber-20-migration-guide-and-updatetest-your-child-theme",level:3},{value:"Deploy",id:"deploy",level:2}];function p(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"Welcome to version 5.0 of wp-lemon. In this guide we will go over the details to upgrade your current 4.x website to the 5.x."}),"\n",(0,i.jsx)(t.h2,{id:"before-we-get-started",children:"Before we get started"}),"\n",(0,i.jsx)(t.p,{children:"Please make sure you have the latest version of your project checked out and have a recent database and media files to check your website locally."}),"\n",(0,i.jsx)(t.h2,{id:"upgrade-steps",children:"Upgrade steps"}),"\n",(0,i.jsx)(t.p,{children:"Follow the next steps to upgrade your project to use wp-lemon 4."}),"\n",(0,i.jsx)(t.h3,{id:"step-1-set-new-major-version-of-wp-lemon-timber-and-bulldozer",children:"Step 1. Set new major version of wp-lemon, Timber and Bulldozer"}),"\n",(0,i.jsx)(t.p,{children:"Navigate to your composer.json file in the project root and update it as follows."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'-    "satispress/wp-lemon": "^4.0",\n+    "satispress/wp-lemon": "^5.0",\n-    "timber/timber": "^1.x",\n+    "timber/timber": "^2.0",\n-    "highground/bulldozer": "^3.x",\n+    "highground/bulldozer": "^4.0",\n'})}),"\n",(0,i.jsx)(t.h3,{id:"step-2-update-child-theme-dependencies",children:"Step 2. Update child-theme dependencies"}),"\n",(0,i.jsx)(t.p,{children:"Navigate to your child theme and open package.json and update the following dependencies to at least these versions."}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-json",children:'-  "swiper": "^10.0",\n+  "swiper": "^11.0",\n'})}),"\n",(0,i.jsx)(t.h3,{id:"step-3-run-update-parent-command",children:"Step 3. Run update-parent command"}),"\n",(0,i.jsxs)(t.p,{children:["Open a new console in your child theme and run the following command: ",(0,i.jsx)(t.code,{children:"yarn run update-parent"})]}),"\n",(0,i.jsx)(t.p,{children:"This will update both PHP and node dependencies to their latest versions."}),"\n",(0,i.jsx)(t.h3,{id:"step-4-run-production-build",children:"Step 4. Run production build"}),"\n",(0,i.jsxs)(t.p,{children:["Open a new console in your child theme and run the following command: ",(0,i.jsx)(t.code,{children:"yarn run production"}),"\nThis will create a fresh build with the new dependencies. If the build fails, please try to debug the error or open a new ticket."]}),"\n",(0,i.jsx)(t.h3,{id:"step-5-read-the-timber-20-migration-guide-and-updatetest-your-child-theme",children:"Step 5. Read the Timber 2.0 migration guide and update/test your child theme"}),"\n",(0,i.jsxs)(t.p,{children:["Since this release is mostly focussed on the Timber 2.0 update, please read the ",(0,i.jsx)(t.a,{href:"https://timber.github.io/docs/v2/upgrade-guides/2.0/",children:"Timber 2.0 migration guide"})," and update your child theme accordingly."]}),"\n",(0,i.jsx)(t.h2,{id:"deploy",children:"Deploy"}),"\n",(0,i.jsxs)(t.p,{children:["Please follow the following guide to deploy the update to the production server. ",(0,i.jsx)(t.a,{href:"/deployment/updates#deploy-update",children:"Deploy update!"})]})]})}function c(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},8453(e,t,n){n.d(t,{R:()=>r,x:()=>s});var o=n(6540);const i={},d=o.createContext(i);function r(e){const t=o.useContext(d);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(d.Provider,{value:t},e.children)}}}]);