"use strict";(globalThis.webpackChunkwp_lemon_docs=globalThis.webpackChunkwp_lemon_docs||[]).push([[905],{3516(e,n,o){o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>s,metadata:()=>t,toc:()=>r});const t=JSON.parse('{"id":"blocks/block-view","title":"Block view","description":"Documentation on the view layer.","source":"@site/docs/blocks/block-view.mdx","sourceDirName":"blocks","slug":"/blocks/block-view","permalink":"/wp-lemon-docs/blocks/block-view","draft":false,"unlisted":false,"editUrl":"https://github.com/Studio-Lemon/wp-lemon-docs/tree/master/docs/blocks/block-view.mdx","tags":[],"version":"current","frontMatter":{"title":"Block view","description":"Documentation on the view layer."},"sidebar":"docsSidebar","previous":{"title":"Block controller","permalink":"/wp-lemon-docs/blocks/block-controller"},"next":{"title":"Block style","permalink":"/wp-lemon-docs/blocks/block-style"}}');var l=o(4848),i=o(8453);const s={title:"Block view",description:"Documentation on the view layer."},a=void 0,c={},r=[{value:"Using your ACF fields",id:"using-your-acf-fields",level:2},{value:"Advanced Twig features",id:"advanced-twig-features",level:2},{value:"Conditional statements",id:"conditional-statements",level:3},{value:"Loops",id:"loops",level:3},{value:"Includes and extends",id:"includes-and-extends",level:2},{value:"Includes",id:"includes",level:3},{value:"Extends",id:"extends",level:3}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.p,{children:["After you've set up your block and added the necessary logic in the controller file,\nit's time to start building the front end. This will happen in the view file (",(0,l.jsx)(n.code,{children:".twig"}),")."]}),"\n",(0,l.jsx)(n.p,{children:"The core responsibility of the .twig file is to define the HTML structure of your block.\nThis is where you lay out the various elements (text, images, buttons, etc.) that make up the block."}),"\n",(0,l.jsx)(n.h2,{id:"using-your-acf-fields",children:"Using your ACF fields"}),"\n",(0,l.jsx)(n.p,{children:"The Twig template is capable of receiving data passed from the block controller,\nsuch as block attributes and field values. You can use placeholders in the .twig file to inject this data dynamically into the HTML."}),"\n",(0,l.jsx)(n.p,{children:"To take a look at what your working with you can use the following example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-twig",children:"<pre>\n    {{ dump(fields) }}\n</pre>\n"})}),"\n",(0,l.jsx)(n.p,{children:"This will show you all the fields that are available in the block. When you know the field names you can use them in your template like this:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-twig",children:'<div class="classname">\n    {{ fields.fieldname }}\n</div>\n'})}),"\n",(0,l.jsx)(n.h2,{id:"advanced-twig-features",children:"Advanced Twig features"}),"\n",(0,l.jsx)(n.p,{children:"Twig offers a lot of advanced features that can help you build complex and dynamic templates. For our use case however we will focus on the following features:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Programming locic (Conditional statements, loops)"}),"\n",(0,l.jsx)(n.li,{children:"Includes and extends"}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["Twig offers an extensive documentation on all the features that are available. You can find this documentation ",(0,l.jsx)(n.a,{href:"https://twig.symfony.com/doc/",children:"here"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"conditional-statements",children:"Conditional statements"}),"\n",(0,l.jsx)(n.p,{children:"Twig supports basic programming logic, allowing you to conditionally display elements based on the values of the block\u2019s attributes.\nFor example, you can choose to display a special background only if a certain color is selected like this:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-twig",children:'{% if fields.color %}\n    <div class="background-color-{{ fields.color }}">\n        {{ fields.text }}\n    </div>\n{% endif %}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"loops",children:"Loops"}),"\n",(0,l.jsx)(n.p,{children:"Also, if your block contains repeatable items (like a list of testimonials or products),\nyou can use Twig loops to render these items dynamically, based on the number of entries in the data passed from the controller.\nBelow an example is given of how you can loop through a repeater field:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-twig",children:'{% for item in fields.items %}\n    <div class="item">\n        <img src="{{ item.image }}" alt="{{ item.caption }}">\n        <p>{{ item.caption }}</p>\n    </div>\n{% endfor %}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"includes-and-extends",children:"Includes and extends"}),"\n",(0,l.jsx)(n.p,{children:"Twig also supports includes and extends, which allow you to reuse your code."}),"\n",(0,l.jsx)(n.h3,{id:"includes",children:"Includes"}),"\n",(0,l.jsx)(n.p,{children:"Includes are the most straightforward as they are used for simple code reuse.\nThis can be useful when you have a block that is used in multiple places on your website.\nIt will look something like this:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-twig",children:"{% include 'blocks/_example.twig' %}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"extends",children:"Extends"}),"\n",(0,l.jsx)(n.p,{children:"Extends are used when you want to create a base template that other templates can inherit from.\nWhen working with custom blocks in wp-lemon, you're already making use of this feature.\nBecause every block you create automatically extends our block-wrap.twig file.\nThe block-wrap sets the default classes based on you configured your block in the back-end like (background) color and alignment.\nIt also prepares your block for block notifications.\nWe recommend to always extend the block-wrap.twig file in your block view file, but you can do without.\nAn example of when you wouldn't want to extend the block-wrap.twig file is when you have a really small inline component like an icon or something similar."}),"\n",(0,l.jsx)(n.p,{children:"If we look at how the block-wrap.twig file is extended in your custom block we can see how it's done:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-twig",children:"{% extends 'layouts/block-wrap.twig' %}\n\n{% block block__inner %}\n    Here comes the block content.\n{% endblock %}\n"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(d,{...e})}):d(e)}},8453(e,n,o){o.d(n,{R:()=>s,x:()=>a});var t=o(6540);const l={},i=t.createContext(l);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);